<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Carrito</title>
<style>
body{font-family:Arial,sans-serif;margin:20px;background:#f5f5f5;color:#333;}
h1{text-align:center;}
table{width:100%;border-collapse:collapse;}
th, td{border:1px solid #ccc;padding:10px;text-align:center;}
th{background:#eee;}
button{padding:5px 10px;margin:5px;background:#28a745;color:#fff;border:none;cursor:pointer;}
button:hover{background:#218838;}
</style>
</head>
<body>
<h1>Carrito de Compras</h1>
<table>
<tr><th>Producto</th><th>Precio</th><th>Cantidad</th><th>Subtotal</th></tr>
<tbody id="detalle"></tbody>
<tr><td colspan="3"><strong>Total</strong></td><td id="total">0</td></tr>
</table>
<br>
<button onclick="comprar()">Comprar</button>

<script>
let carrito = JSON.parse(localStorage.getItem('carrito')) || [];
let detalle = document.getElementById('detalle');
let total = 0;

carrito.forEach((p, i) => {
  let subtotal = p.precio * p.cantidad;
  total += subtotal;
  const tr = document.createElement('tr');
  tr.innerHTML = `<td>${p.nombre} (${p.presentacion})</td><td>${p.precio}</td><td>${p.cantidad}</td><td>${subtotal}</td>`;
  detalle.appendChild(tr);
});

document.getElementById('total').innerText = total;

function comprar(){
  if(carrito.length === 0){
    alert("El carrito está vacío");
    return;
  }
  localStorage.setItem('carrito', JSON.stringify(carrito));
  window.location.href = 'recibos.html';
}
</script>
</body>
</html>












